babylon_political_discord_monthly_pulse_journal_entry = {
	#First we (re)set the theoretical discord number
	set_variable = {
		name = theoretical_discord
		value = 0
	}
	###############################
	### EXTERNAL CONSIDERATIONS ###
	#Then we add to it for each foreign pact
	root = {
		debug_log = "babylon_political_discord_monthly_pulse_journal_entry -> root scope"
		debug_log_scopes = yes
		every_scope_diplomatic_pact = {
			debug_log = "babylon_political_discord_monthly_pulse_journal_entry -> root -> every_scope_diplomatic_pact scope"
			debug_log_scopes = yes
			limit = {
				OR = {
					# Add each diplomatic pact considered to the list below
					is_diplomatic_action_type = defensive_pact
					is_diplomatic_action_type = alliance
					is_diplomatic_action_type = trade_agreement
					is_diplomatic_action_type = customs_union
					is_diplomatic_action_type = rivalry
				}
			}
			if = {
				limit = {
					is_diplomatic_action_type = defensive_pact
				}
				babylon_calc_discord_government_difference = {
					IS_GAIN = yes
					MULTIPLIER = 1.25
				}
			}
			else_if = {
				limit = {
					is_diplomatic_action_type = alliance
				}
				babylon_calc_discord_government_difference = {
					IS_GAIN = yes
					MULTIPLIER = 1.5
				}
			}
			else_if = {
				limit = {
					is_diplomatic_action_type = trade_agreement
				}
				babylon_calc_discord_government_difference = {
					IS_GAIN = yes
					MULTIPLIER = 1
				}
			}
			else_if = {
				limit = {
					is_diplomatic_action_type = customs_union
				}
				babylon_calc_discord_government_difference = {
					IS_GAIN = yes
					MULTIPLIER = 1.1
				}
			}
			else_if = {
				limit = {
					is_diplomatic_action_type = rivalry
				}
				babylon_calc_discord_government_difference = {
					IS_GAIN = no
					MULTIPLIER = 1.5
				}
			}
		}
	}
	### END EXTERNAL ##############
	###############################
	### INTERNAL CONSIDERATIONS ###
	# First the ruler
	ruler = {
		save_temporary_scope_as = ruler_scope
	}
	babylon_calc_discord_CHARACTER_ideology = {
		CHARACTER = scope:ruler_scope
		MULTIPLIER = 2
	}
	# Then leaders of every government IG
	every_interest_group = {
		limit = {
			is_in_government = yes
		}
		# Their multiplier will be clout+1 (meaning a 28% clout IG would have 1.28 multiplier)
		set_local_variable = {
			name = interest_group_clout
			value = ig_clout
		}
		change_local_variable = {
			name = interest_group_clout
			add = 1
		}
		leader = {
			save_temporary_scope_as = ig_leader_scope
			root = {
				babylon_calc_discord_CHARACTER_ideology = {
					CHARACTER = scope:ig_leader_scope
					MULTIPLIER = local_var:interest_group_clout
				}
			}
		}
		remove_local_variable = interest_group_clout
	}
	### END INTERNAL ###
	####################
	#Then we find the difference between the current and theoretical values and divide it
	change_variable = {
		name = theoretical_discord
		subtract = var:political_discord
	}
	change_variable = {
		name = theoretical_discord
		divide = 10
	}
	#Then we round it
	round_variable = {
		name = theoretical_discord
		nearest = 1
	}
	#And apply it
	change_discord = {
		VALUE = var:theoretical_discord
	}
}
