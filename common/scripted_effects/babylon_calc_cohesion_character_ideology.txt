babylon_calc_cohesion_CHARACTER_ideology = {
	set_local_variable = {
		name = babylon_cohesion_character_ideology
		value = 0
	}
	every_law = {
		type = {
			save_temporary_scope_as = law_type_scope
			babylon_calc_LAW_stance = {
				LAW = scope:law_type_scope
				CHARACTER = $CHARACTER$
			}
		}
	}
	change_local_variable = {
		name = babylon_cohesion_character_ideology
		multiply = $MULTIPLIER$
	}
	change_variable = {
		name = theoretical_cohesion
		add = local_var:babylon_cohesion_character_ideology
	}
	remove_local_variable = babylon_cohesion_character_ideology
}

babylon_calc_LAW_stance = {
	$CHARACTER$ = {
		if = {
			limit = {
				law_stance = {
					law = $LAW$
					value = strongly_disapprove
				}
			}
			change_local_variable = {
				name = babylon_cohesion_character_ideology
				add = 2
			}
		}
		else_if = {
			limit = {
				law_stance = {
					law = $LAW$
					value = disapprove
				}
			}
			change_local_variable = {
				name = babylon_cohesion_character_ideology
				add = 1
			}
		}
		else_if = {
			limit = {
				law_stance = {
					law = $LAW$
					value = approve
				}
			}
			change_local_variable = {
				name = babylon_cohesion_character_ideology
				add = -1
			}
		}
		else_if = {
			limit = {
				law_stance = {
					law = $LAW$
					value = strongly_approve
				}
			}
			change_local_variable = {
				name = babylon_cohesion_character_ideology
				add = -2
			}
		}
	}
}
