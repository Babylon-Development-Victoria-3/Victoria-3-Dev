babylon_calc_cohesion_citizenship = {
	if = {
		limit = {
			has_law = law_type:law_ethnostate
		}
		if = {
			limit = {
				$TARGET$ = {
					any_primary_culture = {
						is_primary_culture_of = root
					}
				}
			}
			# No change
		}
		else_if = {
			limit = {
				$TARGET$ = {
					any_primary_culture = {
						shares_heritage_and_other_trait_with_any_primary_culture = root
					}
				}
			}
			change_local_variable = {
				name = cohesion_change
				add = 2
			}
		}
		else_if = {
			limit = {
				$TARGET$ = {
					any_primary_culture = {
						shares_heritage_trait_with_any_primary_culture = root
					}
				}
			}
			change_local_variable = {
				name = cohesion_change
				add = 4
			}
		}
		else_if = {
			limit = {
				$TARGET$ = {
					any_primary_culture = {
						shares_non_heritage_trait_with_any_primary_culture = root
					}
				}
			}
			change_local_variable = {
				name = cohesion_change
				add = 10
			}
		}
		else_if = {
			limit = {
				$TARGET$ = {
					NOT = {
						any_primary_culture = {
							shares_trait_with_any_primary_culture = root
						}
					}
				}
			}
			change_local_variable = {
				name = cohesion_change
				add = 20
			}
		}
	}
    # Exit ethnostate
	if = {
		limit = {
			has_law = law_type:law_national_supremacy
		}
		if = {
			limit = {
				$TARGET$ = {
					any_primary_culture = {
						is_primary_culture_of = root
					}
				}
			}
			# No change
		}
		else_if = {
			limit = {
				$TARGET$ = {
					any_primary_culture = {
						shares_heritage_and_other_trait_with_any_primary_culture = root
					}
				}
			}
			change_local_variable = {
				name = cohesion_change
				add = 1
			}
		}
		else_if = {
			limit = {
				$TARGET$ = {
					any_primary_culture = {
						shares_heritage_trait_with_any_primary_culture = root
					}
				}
			}
			change_local_variable = {
				name = cohesion_change
				add = 2
			}
		}
		else_if = {
			limit = {
				$TARGET$ = {
					any_primary_culture = {
						shares_non_heritage_trait_with_any_primary_culture = root
					}
				}
			}
			change_local_variable = {
				name = cohesion_change
				add = 4
			}
		}
		else_if = {
			limit = {
				$TARGET$ = {
					NOT = {
						any_primary_culture = {
							shares_trait_with_any_primary_culture = root
						}
					}
				}
			}
			change_local_variable = {
				name = cohesion_change
				add = 10
			}
		}
	}
    # Exit national supremacy
	if = {
		limit = {
			has_law = law_type:law_racial_segregation
		}
		if = {
			limit = {
				$TARGET$ = {
					any_primary_culture = {
						is_primary_culture_of = root
					}
				}
			}
			# No change
		}
		else_if = {
			limit = {
				$TARGET$ = {
					any_primary_culture = {
						shares_heritage_and_other_trait_with_any_primary_culture = root
					}
				}
			}
			# No change
		}
		else_if = {
			limit = {
				$TARGET$ = {
					any_primary_culture = {
						shares_heritage_trait_with_any_primary_culture = root
					}
				}
			}
			change_local_variable = {
				name = cohesion_change
				add = 1
			}
		}
		else_if = {
			limit = {
				$TARGET$ = {
					any_primary_culture = {
						shares_non_heritage_trait_with_any_primary_culture = root
					}
				}
			}
			change_local_variable = {
				name = cohesion_change
				add = 2
			}
		}
		else_if = {
			limit = {
				$TARGET$ = {
					NOT = {
						any_primary_culture = {
							shares_trait_with_any_primary_culture = root
						}
					}
				}
			}
			change_local_variable = {
				name = cohesion_change
				add = 6
			}
		}
	}
    # Exit racial segregation
	if = {
		limit = {
			has_law = law_type:law_cultural_exclusion
		}
		if = {
			limit = {
				$TARGET$ = {
					any_primary_culture = {
						is_primary_culture_of = root
					}
				}
			}
			# No change
		}
		else_if = {
			limit = {
				$TARGET$ = {
					any_primary_culture = {
						shares_heritage_and_other_trait_with_any_primary_culture = root
					}
				}
			}
			# No change
		}
		else_if = {
			limit = {
				$TARGET$ = {
					any_primary_culture = {
						shares_heritage_trait_with_any_primary_culture = root
					}
				}
			}
			# No change
		}
		else_if = {
			limit = {
				$TARGET$ = {
					any_primary_culture = {
						shares_non_heritage_trait_with_any_primary_culture = root
					}
				}
			}
			change_local_variable = {
				name = cohesion_change
				add = 1
			}
		}
		else_if = {
			limit = {
				$TARGET$ = {
					NOT = {
						any_primary_culture = {
							shares_trait_with_any_primary_culture = root
						}
					}
				}
			}
			change_local_variable = {
				name = cohesion_change
				add = 4
			}
		}
	}
    # Exit cultural exclusion
    # No change for multicultural, not needed
}
