babylon_ai_foreign_law_state_wargoal_weight = {
	value = 1
	if = {
		limit = {
			has_law = law_type:law_expansionism
			scope:target_state = {
				region = {
					NOR = {
						any_scope_state = {
							owner = root
							is_incorporated = yes
						}
						any_neighbouring_state = {
							owner = root
							is_incorporated = yes
						}
					}
				}
			}
		}
		multiply = 0
	}
	if = {
		limit = {
			has_law = law_type:law_imperialism
			scope:target_country = {
				NOT = {
					is_country_type = unrecognized
				}
			}
		}
		multiply = 0
	}
	if = {
		limit = {
			has_law = law_type:law_armed_neutrality
			scope:target_country = {
				NOT = {
					any_primary_culture = {
						shares_heritage_and_other_trait_with_any_primary_culture = root
					}
				}
			}
		}
		multiply = 0
	}
	if = {
		limit = {
			has_law = law_type:law_anti_imperialist
			scope:target_country = {
				OR = {
					has_law = law_type:law_no_colonial_affairs
					NOT = {
						any_primary_culture = {
							shares_heritage_and_other_trait_with_any_primary_culture = root
						}
					}
				}
			}
		}
		multiply = 0
	}
	if = {
		limit = {
			has_law = law_type:law_pacifist
		}
		multiply = 0
	}
	if = {
		limit = {
			has_law = law_type:law_true_neutrality
		}
		multiply = 0
	}
}

babylon_ai_foreign_law_country_wargoal_weight = {
	value = 1
	if = {
		limit = {
			has_law = law_type:law_expansionism
			scope:target_country = {
				NOT = {
					any_neighbouring_state = {
						owner = root
						is_incorporated = yes
					}
				}
			}
		}
		multiply = 0
	}
	if = {
		limit = {
			has_law = law_type:law_imperialism
			scope:target_country = {
				NOT = {
					is_country_type = unrecognized
				}
			}
		}
		multiply = 0
	}
	if = {
		limit = {
			has_law = law_type:law_armed_neutrality
			scope:target_country = {
				NOT = {
					any_primary_culture = {
						shares_heritage_and_other_trait_with_any_primary_culture = root
					}
				}
			}
		}
		multiply = 0
	}
	if = {
		limit = {
			has_law = law_type:law_anti_imperialist
			scope:target_country = {
				OR = {
					has_law = law_type:law_no_colonial_affairs
					NOT = {
						any_primary_culture = {
							shares_heritage_and_other_trait_with_any_primary_culture = root
						}
					}
				}
			}
		}
		multiply = 0
	}
	if = {
		limit = {
			has_law = law_type:law_pacifist
		}
		multiply = 0
	}
	if = {
		limit = {
			has_law = law_type:law_true_neutrality
		}
		multiply = 0
	}
}

babylon_infamy_multiplier = {
	if = {
		limit = {
			infamy > 20
		}
		add = root.infamy
		subtract = 20 # Remove 'excess' infamy from calculations
		divide = 80 # Since there's only 80 steps now, on the flipside going above 100 infamy becomes even more dangerous
	}
	else = {
		value = 0
	}
}

pariah_infamy_SCOPE_VALUE_MULT_VAR_trigger = {
	value = infamy_threshold:pariah
	multiply = scope:mult_var
}

get_total_released_COUNTRY_infamy_worth_vassal = {
	value = total_population
	divide = 10000
	multiply = 0.03
	multiply = 3
	multiply = -1
	min = -50
	max = 50
}

get_total_released_COUNTRY_infamy_worth_annex = {
	value = total_population
	divide = 10000
	multiply = 0.03
	multiply = 5
	multiply = -1
	min = -50
	max = 50
}

babylon_player_construction_bonus_multiplier = {
	if = {
		limit = {
			has_game_rule = disable_player_construction_bonus
		}
		value = 0
	}
	else_if = {
		limit = {
			has_game_rule = enable_player_construction_bonus_15
		}
		value = 15
	}
	else_if = {
		limit = {
			has_game_rule = enable_player_construction_bonus_0_5_10_15
		}
		if = {
			limit = {
				country_rank = rank_value:great_power
			}
			value = 0
		}
		else_if = {
			limit = {
				OR = {
					country_rank = rank_value:major_power
					country_rank = rank_value:unrecognized_major_power
				}
			}
			value = 5
		}
		else_if = {
			limit = {
				OR = {
					country_rank = rank_value:minor_power
					country_rank = rank_value:unrecognized_regional_power
				}
			}
			value = 10
		}
		else_if = {
			limit = {
				OR = {
					country_rank = rank_value:insignificant_power
					country_rank = rank_value:unrecognized_power
				}
			}
			value = 15
		}
	}
	else_if = {
		limit = {
			has_game_rule = enable_player_construction_bonus_0_2_4_7
		}
		if = {
			limit = {
				country_rank = rank_value:great_power
			}
			value = 0
		}
		else_if = {
			limit = {
				OR = {
					country_rank = rank_value:major_power
					country_rank = rank_value:unrecognized_major_power
				}
			}
			value = 2
		}
		else_if = {
			limit = {
				OR = {
					country_rank = rank_value:minor_power
					country_rank = rank_value:unrecognized_regional_power
				}
			}
			value = 4
		}
		else_if = {
			limit = {
				OR = {
					country_rank = rank_value:insignificant_power
					country_rank = rank_value:unrecognized_power
				}
			}
			value = 7
		}
	}
}
